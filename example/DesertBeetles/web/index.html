<!DOCTYPE html> 
<html> 
<head> 
  <title>Desert Beetles</title>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="packages/NetTango/css/fonts.css">
  <link rel="stylesheet" href="packages/NetTango/css/toolbar.css">
  <link rel="stylesheet" href="packages/NetTango/css/settings.css">
</head>
<body>
  <div class="world">
    <canvas id="beetle-turtles" width="800" height="500"></canvas>
    <canvas id="beetle-workspace" width="800" height="500"></canvas>
  
    <div id="beetle-toolbar" class="toolbar">
      <button id="play-button"></button>
      <button id="forward-button"></button>
      <button id="step-button"></button>
      <button id="restart-button"></button>
    </div>
    <canvas id="mini-hist" width="100" height="100"></canvas>
    <canvas id="mini-plot" width="100" height="100"></canvas>
  </div>

  <div class="chapter">
    <h3>Settings</h3>

    <!-- BEETLE COUNT -->
    <div class="setting">
      <p>How many beetles should initally be in the desert?</p>
      <input type="range" min="0" max="100" value="20" step="1" id="setting-num-beetles">
      <output for="setting-num-beetles" id="output-num-beetles">20</output>
    </div>

    <!-- DUNG COUNT -->
    <div class="setting">
      <p>How many dung piles should be in the desert?</p>
      <input type="range" min="0" max="50" value="10" step="1" id="setting-num-dung">
      <output for="setting-num-dung" id="output-num-dung">10</output>
    </div>


    <!-- TREE COUNT -->
    <div class="setting">
      <p>How many trees should be in the desert?</p>
      <input type="range" min="0" max="50" value="0" step="1" id="setting-num-trees">
      <output for="setting-num-trees" id="output-num-trees">0</output>
    </div>
  </div>

  <div class="chapter">
    <br>
    <div style="width: 380px; display: inline-block; margin: 0 20px 0 0;">
      <b>Beetle Count</b>
      <canvas class="plot" id="big-plot" width="380" height="250"></canvas>
    </div>
    <div style="width: 380px; display: inline-block; margin: 0 0 0 12px;">
      <b>Beetle Horn Sizes</b>
      <canvas class="plot" id="big-hist" width="380" height="250"></canvas>
    </div>
  </div>

<!-- BLOCK DEFINITIONS -->
<script type="application/xml" id="beetle-model">
<ntango>
  <model patchSize="10" minWorldX="-40" minWorldY="-25" maxWorldX="40" maxWorldY="25" wrap="true">
    <setup>
      <turtle breed="Beetle" x="0" y="0" size="1.125" />
    </setup>
  </model>
  <workspace>
    <menu>
      <block name="forward" color="#9E553B">
        <param name="distance" type="range" min="5" max="10" step="0.5" default="5" />
      </block>
      <!--
      <block name="left" color="#9E553B">
        <param name="degrees" type="range" min="0" max="180" step="10" default="60" random="true" label="degrees" />
      </block>
      <block name="right" color="#9E553B">
        <param name="degrees" type="range" min="0" max="180" step="10" default="60" random="true" label="degrees" />
      </block>
      -->
      <block name="wander" color="#9E553B" />
      <block name="spin" />
      <block name="smell" />
      <block name="tunnel" />
      <block name="hatch" color="#b67196">
        <param name="variation">
          <v>horn-variation</v>
          <v>no-variation</v>
        </param>
      </block>
      <block name="die" color="#b67196" />
      <block name="chance" type="if" instances="2">
        <param name="probability" type="range" min="0" max="100" step="1" default="25" unit="%" />
      </block>
      <block name="if-else" type="if-else" instances="2">
        <param name="condition">
          <v>smell-dung?</v>
          <v>in-tunnel?</v>
        </param>
      </block>
    </menu>
    <defaultProgram>if-else(in-tunnel?);chance(3);hatch();end;else;smell();forward(10);tunnel();end;chance(1);die();</defaultProgram>
  </workspace>
</ntango>
</script>


  <script src="dart/main.dart" type="application/dart"></script>
  <script src="dart.js"></script>
  <script type="text/javascript">
    window.oncontextmenu = function(event) {
      event.preventDefault();
      event.stopPropagation();
      return false;
    };
    localStorage.setItem("STATIC_ROOT", "");
  </script>
</body>
</html>